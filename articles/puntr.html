<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • puntr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="puntr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">puntr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/puntr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Puntalytics/puntr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="puntr_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Puntalytics/puntr/blob/HEAD/vignettes/puntr.Rmd" class="external-link"><code>vignettes/puntr.Rmd</code></a></small>
      <div class="hidden name"><code>puntr.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install via:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Puntalytics/puntr"</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Puntalytics/puntr" class="external-link">puntr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span> <span class="co"># always a good idea to do this too</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-puntr-with-nfl-data">Using <code>puntr</code> with NFL data<a class="anchor" aria-label="anchor" href="#using-puntr-with-nfl-data"></a>
</h2>
<div class="section level3">
<h3 id="completed-seasons">Completed seasons<a class="anchor" aria-label="anchor" href="#completed-seasons"></a>
</h3>
<p>For speed, we’ve already scraped (using <a href="https://www.nflfastr.com/" class="external-link"><code>nflfastR</code></a>) and saved punting data for the 1999-2020 seasons. The easiest thing to do is download the <code>puntr-data</code> repo <a href="https://github.com/Puntalytics/puntr-data/tree/master/data" class="external-link">here</a>, and then point <code><a href="../reference/import_punts.html">puntr::import_punts()</a></code> to your local copy of the data. You can also download the data directly each time; this takes around 15 minutes.<br>
Import, clean, and calculate as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#punts_raw &lt;- import_punts(1999:2020, local=TRUE, path=your_local_path) # recommended</span>
<span class="va">punts_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_punts.html">import_punts</a></span><span class="op">(</span><span class="fl">2018</span><span class="op">:</span><span class="fl">2020</span><span class="op">)</span> <span class="co"># This takes ~15 minutes</span>
<span class="va">punts_cleaned</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trust_the_process.html">trust_the_process</a></span><span class="op">(</span><span class="va">punts_raw</span><span class="op">)</span> <span class="co"># clean</span>
<span class="va">punts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_all.html">calculate_all</a></span><span class="op">(</span><span class="va">punts_cleaned</span><span class="op">)</span> <span class="co"># calculate custom Puntalytics metrics </span></code></pre></div>
<pre><code><span class="co">## Calculated RERUN: 0.834 sec elapsed</span>
<span class="co">## Calculated SHARP: 4.423 sec elapsed</span>
<span class="co">## Calculated pEPA: 1.298 sec elapsed</span></code></pre>
<p>You now have a dataframe <code>punts</code> where each row is a punt, and each column is a stat relevant to punting (including our custom metrics).</p>
<div class="section level4">
<h4 id="note-about-minimum-dataframe-size">Note about minimum dataframe size<a class="anchor" aria-label="anchor" href="#note-about-minimum-dataframe-size"></a>
</h4>
<p><code>puntr</code> calculates stats using 3-year rolling averages, to avoid any artifacts of anomalous seasons. For this reason, <code><a href="../reference/calculate_all.html">puntr::calculate_all()</a></code> requires a dataframe containing at least <strong>3 seasons</strong> and <strong>1000 punts</strong>. Note in the above example that three seasons are used. Note in the below example that three seasons are used for the calculation, after which all but the most recent seasons are filtered out.</p>
</div>
</div>
<div class="section level3">
<h3 id="in-progress-seasons">In-progress seasons<a class="anchor" aria-label="anchor" href="#in-progress-seasons"></a>
</h3>
<p>The kind folks at <a href="https://www.nflfastr.com/" class="external-link"><code>nflfastR</code></a> have set up a convenient <code>SQL</code>-y way to scrape data for in-progress seasons. Rather than redo all of that work, we’ll just share here the code we use for this purpose:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#install.packages("DBI")</span>
<span class="co">#install.packages("RSQLite")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org" class="external-link">DBI</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rsqlite.r-dbi.org" class="external-link">RSQLite</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.nflfastr.com/" class="external-link">nflfastR</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Puntalytics/puntr" class="external-link">puntr</a></span><span class="op">)</span>

<span class="fu"><a href="https://www.nflfastr.com/reference/update_db.html" class="external-link">update_db</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">connection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu">SQLite</span><span class="op">(</span><span class="op">)</span>, <span class="st">"./pbp_db"</span><span class="op">)</span>
<span class="va">pbp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">connection</span>, <span class="st">"nflfastR_pbp"</span><span class="op">)</span>

<span class="va">punts</span> <span class="op">&lt;-</span> <span class="va">pbp</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">punt_attempt</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">season</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">2019</span><span class="op">:</span><span class="fl">2021</span><span class="op">)</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/trust_the_process.html">trust_the_process</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/calculate_all.html">calculate_all</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">season</span> <span class="op">==</span> <span class="fl">2021</span><span class="op">)</span>

<span class="fu"><a href="https://dbi.r-dbi.org/reference/dbDisconnect.html" class="external-link">dbDisconnect</a></span><span class="op">(</span><span class="va">connection</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="comparing-punters">Comparing punters<a class="anchor" aria-label="anchor" href="#comparing-punters"></a>
</h3>
<p><strong><em>Note</em></strong>: New in <code>puntr 1.3</code>, the functions</p>
<ul>
<li><code><a href="../reference/create_mini.html">puntr::create_mini()</a></code></li>
<li><code><a href="../reference/create_miniY.html">puntr::create_miniY()</a></code></li>
<li><code><a href="../reference/create_miniG.html">puntr::create_miniG()</a></code></li>
</ul>
<p>are now deprecated, in favor of</p>
<ul>
<li><code>puntr::by_punters()</code></li>
<li><code>puntr::by_punter_seasons()</code></li>
<li><code>puntr::by_punter_games()</code></li>
</ul>
<p>To compare punters, use</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#punters &lt;- by_punters(punts)</span></code></pre></div>
<p>to get a dataframe where each row is a punter, and each column is an average stat for that punter. The most common standard and Punt Runts stats are included by default, but you can add whatever you like by passing additional arguments to <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">dplyr::summarize()</a></code>. For example:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#punters_custom &lt;- by_punters(punts, longest_punt = max(GrossYards))</span></code></pre></div>
<p>Let’s take a look at some of the columns in this data frame:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#punters %&gt;% </span>
<span class="co">#  arrange(desc(pEPA)) %&gt;% </span>
<span class="co">#  select(punter_player_name, Gross, Net, pEPA) %&gt;%</span>
<span class="co">#  rmarkdown::paged_table()</span></code></pre></div>
<p>To compare punter <strong>seasons</strong>, instead use</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#punter_seasons &lt;- by_punter_seasons(punts)</span></code></pre></div>
<p>which gives every unique punter season a row.</p>
<p>And finally, to compare punter <strong>games</strong>, use</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># punter_games &lt;- by_punter_games(punts)</span></code></pre></div>
<p>which gives every unique punter game a row.</p>
<p><strong>Note</strong>: If a career, season, or game you’re looking for is missing from your dataframe, try changing the <code>threshold =</code> parameter to require fewer punts.</p>
<p>These dataframes - <code>punts</code>, <code>punters</code>, <code>punter_seasons</code> and <code>punter_games</code> - should serve as a good starting point for any custom analysis you’d like to do, be that using built-in <code>puntr</code> metrics, or your own.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-puntr-with-college-data">Using <code>puntr</code> with college data<a class="anchor" aria-label="anchor" href="#using-puntr-with-college-data"></a>
</h2>
<p><strong><em>NOTE: <code>puntr</code> was successfully migrated from <code>cfbscrapR</code> to <code>cfbfastR</code> in version 1.2.2</em></strong></p>
<p><code>puntr</code> can also handle punting data for college football, piggybacking off of the scraping abilities of the <a href="https://saiemgilani.github.io/cfbfastR/" class="external-link"><code>cfbfastR</code></a> package. You need at least 3 seasons worth of data to run <code><a href="../reference/calculate_all.html">calculate_all()</a></code>. Import and clean as follows:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">college_punts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_college_punts.html">import_college_punts</a></span><span class="op">(</span><span class="fl">2019</span><span class="op">:</span><span class="fl">2021</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="co"># import (calls cfbfastR behind the scenes)</span>
 <span class="fu"><a href="../reference/college_to_pro.html">college_to_pro</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="co"># rename columns to those used by nflfastR</span>
 <span class="fu"><a href="../reference/calculate_all.html">calculate_all</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># calculate as with NFL data</span></code></pre></div>
<p>Now we can use the same <code>create_miniY</code> as above to compare college punter seasons (<code>create_mini</code> and <code>create_miniG</code> would also work here, of course.)</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">miniY_college</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_miniY.html">create_miniY</a></span><span class="op">(</span><span class="va">college_punts</span><span class="op">)</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Dennis Brookner, Raphael LadenGuindon.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
